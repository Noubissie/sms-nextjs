generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model classes {
  id           Int            @id
  class        String         @unique
  sectionId    Int
  section      section        @relation(fields: [sectionId], references: [id_])
  classsubject classsubject[]

  @@index([sectionId], name: "sectionId")
}

model classsubject {
  id                 Int      @id
  classId            Int
  subjectId          Int
  subjectCoefficient Int
  classes            classes  @relation(fields: [classId], references: [id])
  subjects           subjects @relation(fields: [subjectId], references: [id])

  @@index([classId], name: "classId")
  @@index([subjectId], name: "subjectId")
}

model gender {
  id             Int              @id
  gender         String?
  parentprofile  parentprofile[]
  staffprofile   staffprofile[]
  studentprofile studentprofile[]
}

model parentprofile {
  id                           Int     @id
  firstname                    String?
  lastname                     String?
  age                          Int
  gender                       Int
  email                        String? @unique
  parentTitle                  Int
  phoneNumber                  String?
  gender_genderToparentprofile gender  @relation(fields: [gender], references: [id])
  title                        title   @relation(fields: [parentTitle], references: [id])

  @@index([gender], name: "gender")
  @@index([parentTitle], name: "parentTitle")
}

model position {
  id       Int     @id
  position String?
}

model section {
  id_       Int        @id
  section   String     @unique
  languages String?
  classes   classes[]
  subjects  subjects[]
}

model staffprofile {
  id                          Int       @id
  firstname                   String?
  lastname                    String?
  staffTitle                  Int
  dateofbirth                 DateTime?
  dateOfAssumption            DateTime  @default(now())
  age                         Int
  gender                      Int
  email                       String?   @unique
  phoneNumber                 String?
  gender_genderTostaffprofile gender    @relation(fields: [gender], references: [id])
  title                       title     @relation(fields: [staffTitle], references: [id])

  @@index([gender], name: "gender")
  @@index([staffTitle], name: "staffTitle")
}

model studentprofile {
  id                            Int       @id
  firstname                     String?
  lastname                      String?
  dateofbirth                   DateTime?
  dateOfEnrollment              DateTime  @default(now())
  age                           Int
  gender                        Int
  email                         String?   @unique
  gender_genderTostudentprofile gender    @relation(fields: [gender], references: [id])

  @@index([gender], name: "gender")
}

model subjects {
  id           Int            @id
  subject      String?
  sectionId    Int?
  section      section?       @relation(fields: [sectionId], references: [id_])
  classsubject classsubject[]

  @@index([sectionId], name: "sectionId")
}

model title {
  id            Int             @id
  title         String?
  parentprofile parentprofile[]
  staffprofile  staffprofile[]
}
